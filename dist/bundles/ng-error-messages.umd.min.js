!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("rxjs/observable/of"),require("rxjs/add/observable/throw"),require("rxjs/Observable"),require("underscore.string"),require("@angular/core"),require("rxjs/Subject"),require("rxjs/operators"),require("@angular/forms")):"function"==typeof define&&define.amd?define("ng-error-messages",["exports","rxjs/observable/of","rxjs/add/observable/throw","rxjs/Observable","underscore.string","@angular/core","rxjs/Subject","rxjs/operators","@angular/forms"],t):t(e["ng-error-messages"]={},e.Rx.Observable,e.Rx.Observable,e.Rx,e.underscore_string,e.ng.core,e.Rx,e.Rx.Observable.prototype,e.ng.forms)}(this,function(e,r,t,n,o,a,i,s,u){"use strict";function c(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,a=r.call(e),i=[];try{for(;(void 0===t||0<t--)&&!(n=a.next()).done;)i.push(n.value)}catch(s){o={error:s}}finally{try{n&&!n.done&&(r=a["return"])&&r.call(a)}finally{if(o)throw o.error}}return i}function l(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(c(arguments[t]));return e}var p={};function h(e){return p[e]}p.es={},p.es.required=function(e,t){return"El campo "+t+" es requerido."},p.es.minlength=function(e,t){return"El campo "+t+" debe tener más de  "+e.requiredLength+" caracteres, pero tiene "+e.actualLength+"."},p.es.maxlength=function(e,t){return"El campo  "+t+" debe tener menos de  "+e.requiredLength+" caracteres, pero tiene "+e.actualLength+"."},p.es.pattern=function(e,t){return"El formato del campo  "+t+" es inválido ."},p.es.min=function(e,t){return"El campo  "+t+" debe ser mayor a "+e.min+", pero es "+e.actual+"."},p.es.max=function(e,t){return"El campo  "+t+" debe ser menor a "+e.max+", pero es "+e.actual+"."},p.es.email=function(e,t){return"El campo  "+t+" debe ser un email válido."},p.en={},p.en.required=function(e,t){return"The  "+t+" is requerid."},p.en.minlength=function(e,t){return"The "+t+" must be at least "+e.requiredLength+" characters long, but was "+e.actualLength+"."},p.en.maxlength=function(e,t){return"The "+t+" cannot be more than "+e.requiredLength+" characters long, but was "+e.actualLength+"."},p.en.pattern=function(e,t){return"The "+t+" format is invalid."},p.en.min=function(e,t){return"The "+t+" must be at least "+e.min+", but was "+e.actual+"."},p.en.max=function(e,t){return"The "+t+" cannot be more than "+e.max+", but was "+e.actual+"."},p.en.email=function(e,t){return"The "+t+" must be a valid email address."};var d=function(){function e(e,t){this.key=e,this.getValidationMessage=t}return e.prototype.message=function(e,t){return this.getValidationMessage(e,t)},e}(),f=new(function(){function e(){this.defaultValidationRuleMessage=new d("default",function(e,t){return"The "+t+" field is invalid."})}return e.prototype.chooseLanguage=function(e){var t=h(e);return t?(this.buildMessage(t),r.of(!0)):n.Observable["throw"]("Language not supported, add messages for this language")},e.prototype.addLanguage=function(e,t){var r;h(e)||(r=t,p[e]=r)},e.prototype.buildMessage=function(e){this.data=[new d("required",e.required),new d("minlength",e.minlength),new d("maxlength",e.maxlength),new d("pattern",e.pattern),new d("min",e.min),new d("max",e.max),new d("email",e.email)]},e.prototype.get=function(t){return this.data.find(function(e){return e.key===t.key})||this.defaultValidationRuleMessage},e.prototype.add=function(e){this.data.push(e)},e}()),g=new(function(){function e(){this.data=[]}return e.prototype["for"]=function(e,t){this.data[e]=t.split(" ").map(function(e){return o.decapitalize(e)}).join(" ")},e.prototype.of=function(e){return this.data[e]||this.defaultDisplayName(e)},e.prototype.defaultDisplayName=function(e){return o.decapitalize(o.humanize(e))},e}()),m=function(){function e(){this.langDefault="en",this.onChangeLang=new i.Subject,f.chooseLanguage(this.langDefault)}return e.prototype["for"]=function(e,t,r){return void 0===r&&(r=""),f.get(t).message(t,this.displayName(e,r))},e.prototype.setLanguage=function(e){var t=this;return f.chooseLanguage(e).pipe(s.tap(function(e){console.log("hhjk"),t.onChangeLang.next()}))},e.prototype.addLanguage=function(e,t){f.addLanguage(e,t)},e.prototype.addErrorMessage=function(){},e.prototype.displayName=function(e,t){return t&&g["for"](e,t),g.of(e)},e}();m.decorators=[{type:a.Injectable}],m.ctorParameters=function(){return[]};var y=function(){function e(e,t,r,n,o){this.element=e,this.form=t,this.renderer=r,this.displayErrorService=n,this.alias="",this._nodeMessage=null,this._parent=o}return e.prototype.ngOnChanges=function(){this.setControl()},e.prototype.ngOnInit=function(){var t=this;this.displayErrorService.onChangeLang.subscribe(function(e){console.log("change lang"),t.checkStatus()}),this._control.statusChanges.pipe(s.startWith({})).subscribe(function(){return t.checkStatus()})},e.prototype.checkStatus=function(){var t=this;if(this._control.invalid){var e=Object.keys(this._control.errors).map(function(e){return Object.assign({},{key:e},t._control.getError(e))});this.showError(this.displayErrorService["for"](this.controlName,e[0],this.alias))}else this.hideError()},e.prototype.hideError=function(){this.renderer.setStyle(this.element.nativeElement,"display","none")},e.prototype.showError=function(e){this.renderer.removeStyle(this.element.nativeElement,"display"),this._nodeMessage&&this.renderer.removeChild(this.element.nativeElement,this._nodeMessage),this._nodeMessage=this.renderer.createText(e),this.renderer.appendChild(this.element.nativeElement,this._nodeMessage)},Object.defineProperty(e.prototype,"pathFormControl",{get:function(){return l(this._parent.path,[this.controlName])},enumerable:!0,configurable:!0}),e.prototype.setControl=function(){var e=this.form.control.get(this.pathFormControl);if(!e)throw new Error(this.controlName);this._control=e},e.prototype.ngOnDestroy=function(){},e}();y.decorators=[{type:a.Directive,args:[{selector:"[errorMessage]",exportAs:"errorMessage"}]}],y.ctorParameters=function(){return[{type:a.ElementRef},{type:u.FormGroupDirective},{type:a.Renderer2},{type:m},{type:u.ControlContainer,decorators:[{type:a.Optional},{type:a.Host},{type:a.SkipSelf}]}]},y.propDecorators={controlName:[{type:a.Input,args:["errorMessage"]}],alias:[{type:a.Input,args:["alias"]}]};var b=[y],v=function(){};v.decorators=[{type:a.NgModule,args:[{declarations:l(b),exports:l(b),providers:[m]}]}],e.DisplayErrorService=m,e.ErrorMessageModule=v,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=ng-error-messages.umd.min.js.map
